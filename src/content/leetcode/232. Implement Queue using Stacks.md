---
category: "leetcode"

title: "232. 用棧實現隊列"
en_title: "232. Implement Queue using Stacks"

problem_id: "232"
difficulty: "easy"
tags: ["stack", "queue"]

link: "https://leetcode.cn/problems/implement-queue-using-stacks/"
en_link: "https://leetcode.com/problems/implement-queue-using-stacks/"
date: "2025-11-10"
---
## 思路
建立兩個棧，一個叫`in`，一個叫`out`，每次加入新數字時，就將數字放到`in`當中，\
當需要輸出數字時，將`in`的資料傾倒到`out`當中，再從`out`取第一個數字，就能依照當初加入的順序去輸出。

假如此時`out`不為空，表示裡面還有數字沒輸出，<span style="color:darkorange">不能將`in`倒入</span>，因為會把原先要輸出的數字往下壓。
## 程式碼
### stack
```c++
class MyQueue {
private:
    stack<int> in, out;
private:
    void inToOut() {
        if(out.empty()) {
            while(!in.empty()) {
                out.push(in.top());
                in.pop();
            }
        }
    }
public:
    MyQueue() {}

    void push(int x) {
        in.push(x);
        inToOut();
    }

    int pop() {
        inToOut();
        int res = out.top(); out.pop();
        return res;
    }

    int peek() {
        inToOut();
        return out.top();
    }

    bool empty() {
        return in.empty() && out.empty();
    }
};
```
## 複雜度分析
- 時間複雜度：$O(1)$ 在最糟的情況，每筆資料都會進入`in`，倒到`out`，從`out`取出。
- 空間複雜度：$O(n)$，`in`，`out`的存放的元素數量最多為 $n$
